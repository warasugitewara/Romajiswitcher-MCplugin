# RomajiSwitcher

**ãƒ­ãƒ¼ãƒå­—ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«æ¼¢å­—ã²ã‚‰ãŒãªã«è‡ªå‹•å¤‰æ›ã™ã‚‹ Paper ãƒ—ãƒ©ã‚°ã‚¤ãƒ³**

---

## ğŸ“‹ æ¦‚è¦

RomajiSwitcher ã¯ã€Minecraft ã‚µãƒ¼ãƒãƒ¼ï¼ˆPaperï¼‰ã®ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ãŠã„ã¦ã€ãƒ­ãƒ¼ãƒå­—ã§å…¥åŠ›ã—ãŸæ—¥æœ¬èªã‚’è‡ªå‹•çš„ã«æ¼¢å­—ãƒ»ã²ã‚‰ãŒãªã«å¤‰æ›ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚`arigatou` ã¨å…¥åŠ›ã™ã‚‹ã¨ã€ãã®ã¾ã¾ `æœ‰é›£ã†` ã¨ã—ã¦ãƒãƒ£ãƒƒãƒˆã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### ğŸ¯ ä¸»ãªæ©Ÿèƒ½

- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è‡ªå‹•å¤‰æ›**: ãƒãƒ£ãƒƒãƒˆå…¥åŠ›æ™‚ã«å³åº§ã«ãƒ­ãƒ¼ãƒå­—ã‹ã‚‰æ—¥æœ¬èªã«å¤‰æ›
- **Google IME API çµ±åˆ**: Google ã®æœ€æ–°ã®ä»®åæ¼¢å­—å¤‰æ›ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ´»ç”¨
- **ã‚¹ãƒãƒ¼ãƒˆã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°**: åŒã˜å˜èªã¸ã® 2 å›ç›®ä»¥é™ã¯ API ã‚’å‘¼ã°ãšé«˜é€ŸåŒ–
- **IPADIC è¾æ›¸å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ è¾æ›¸ã¨ã—ã¦ IPADIC ã‚’æ¡ç”¨
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ç™»éŒ²**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç‹¬è‡ªã®å¤‰æ›ãƒ«ãƒ¼ãƒ«ã‚’ç™»éŒ²å¯èƒ½
- **ä½¿ç”¨çµ±è¨ˆå­¦ç¿’**: ã‚ˆãä½¿ã†å¤‰æ›å€™è£œã‚’å­¦ç¿’ã—å„ªå…ˆåº¦ã‚’è‡ªå‹•èª¿æ•´
- **å…¨è§’æ–‡å­—è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—**: æ¼¢å­—ã‚„ã²ã‚‰ãŒãªãŒæ—¢ã«å«ã¾ã‚Œã‚‹å ´åˆã¯å¤‰æ›ã‚’ã‚¹ã‚­ãƒƒãƒ—
- **ã‚«ãƒ©ãƒ•ãƒ«è¡¨ç¤º**: çµæœã‚’ã‚µãƒ¼ãƒãƒ¼ã®è‰²è¨­å®šã«å¿œã˜ã¦è¡¨ç¤º
- **100% å¾Œæ–¹äº’æ›æ€§**: æ—¢å­˜æ©Ÿèƒ½ã«ä¸€åˆ‡ã®å½±éŸ¿ã‚’ä¸ãˆãªã„è¨­è¨ˆ

### ğŸ’¡ ä½¿ç”¨ä¾‹

```
å…¥åŠ›: arigatou desu
å‡ºåŠ›: æœ‰é›£ã† ã§ã™

å…¥åŠ›: oishii 
å‡ºåŠ›: ç¾å‘³ã—ã„

å…¥åŠ›: ä¿ºä»Šæ—¥ valoã™ã‚‹ã‹ã‚‰
å‡ºåŠ›: ä¿ºä»Šæ—¥ valoã™ã‚‹ã‹ã‚‰ ï¼ˆå…¨è§’æ–‡å­—ã‚ã‚‹ãŸã‚ã‚¹ã‚­ãƒƒãƒ—ï¼‰
```

---

## ğŸš€ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

1. **æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**
   - [Releases ãƒšãƒ¼ã‚¸](https://github.com/waras/RomajiSwitcher/releases) ã‹ã‚‰ `RomajiSwitcher-2.00.jar` ã‚’å…¥æ‰‹

2. **ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®**
   ```bash
   cp RomajiSwitcher-2.00.jar /path/to/server/plugins/
   ```

3. **ã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•**
   ```bash
   ./start.sh
   ```

4. **ç¢ºèª**
   - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« `RomajiSwitcher v2.00 enabled` ã¨è¡¨ç¤ºã•ã‚Œã‚Œã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æˆåŠŸ

---

## âš™ï¸ è¨­å®š

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
- **Google IME API**: è‡ªå‹•ã§æœ‰åŠ¹åŒ–
- **IPADIC è¾æ›¸**: 16 å€‹ã®åŸºæœ¬å˜èªã‚’ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: è‡ªå‹•çš„ã«æ§‹ç¯‰ãƒ»ç®¡ç†

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ 

```
plugins/
â””â”€â”€ RomajiSwitcher/
    â”œâ”€â”€ user-dictionary.json      ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®å¤‰æ›ãƒ«ãƒ¼ãƒ«ï¼‰
    â””â”€â”€ config.yml                ï¼ˆå°†æ¥ã®æ‹¡å¼µç”¨ï¼‰
```

---

## ğŸ“š ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒä½œæˆã™ã‚‹ `user-dictionary.json` ã§ã€ã‚«ã‚¹ã‚¿ãƒ å¤‰æ›ãƒ«ãƒ¼ãƒ«ã‚’ç™»éŒ²ã§ãã¾ã™ï¼š

```json
{
  "entries": [
    {
      "romaji": "yuusha",
      "kanji": "å‹‡è€…",
      "hiragana": "ã‚†ã†ã—ã‚ƒ"
    }
  ]
}
```

---

## ğŸ› ï¸ é–‹ç™ºè€…å‘ã‘æƒ…å ±

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **è¨€èª**: Java 21
- **ãƒ™ãƒ¼ã‚¹**: Paper 1.21.6
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Maven
- **ãƒ†ã‚¹ãƒˆ**: JUnit 5
- **å¤–éƒ¨ API**: Google CGI API for Japanese Input

### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼†ãƒ“ãƒ«ãƒ‰

```bash
git clone https://github.com/waras/RomajiSwitcher.git
cd RomajiSwitcher
mvn clean package
```

ç”Ÿæˆç‰©: `target/RomajiSwitcher-2.00.jar`

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
mvn clean test
```

ç¾åœ¨ **54 å€‹ã®ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸ** ã—ã¦ã„ã¾ã™ã€‚

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
RomajiSwitcher
â”œâ”€â”€ ChatListener              ï¼ˆãƒãƒ£ãƒƒãƒˆã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ï¼‰
â”œâ”€â”€ RomajiConverter           ï¼ˆå¤‰æ›ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰
â”œâ”€â”€ RomajiDictionary          ï¼ˆè¾æ›¸ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ IPADIC è¾æ›¸          ï¼ˆ16 å˜èªï¼‰
â”‚   â””â”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸         ï¼ˆã‚«ã‚¹ã‚¿ãƒ ï¼‰
â”œâ”€â”€ ConversionStats           ï¼ˆä½¿ç”¨çµ±è¨ˆãƒ»å­¦ç¿’ï¼‰
â””â”€â”€ GoogleIMEClient           ï¼ˆGoogle IME API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ + ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰
```

---

## ğŸ“‹ å¤‰æ›ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒãƒ£ãƒƒãƒˆã§ `arigatou` ã¨å…¥åŠ›
2. `ChatListener` ãŒã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚­ãƒ£ãƒƒãƒ
3. `RomajiConverter` ãŒ `arigatou` â†’ `ã‚ã‚ŠãŒã¨ã†` ã«å¤‰æ›
4. `GoogleIMEClient` ãŒ `ã‚ã‚ŠãŒã¨ã†` â†’ `æœ‰é›£ã†` ã«æ¼¢å­—å¤‰æ›ï¼ˆAPI ä½¿ç”¨ï¼‰
5. çµæœã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
6. ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ `æœ‰é›£ã†` ã¨ã—ã¦é€ä¿¡ãƒ»è¡¨ç¤º

---

## ğŸ¤ è¬è¾

ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ **[LunaChat](https://github.com/ucchyocean/LunaChat)** ã‹ã‚‰å¤§ããªã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚LunaChat ã¯ãƒãƒ£ãƒƒãƒˆç®¡ç†ã®åŒ…æ‹¬çš„ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã€ã“ã®å®Ÿè£…ã‚’è¡Œã†ä¸Šã§ã®åŸºæº–ã¨ãªã‚Šã¾ã—ãŸã€‚

---

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **MIT ãƒ©ã‚¤ã‚»ãƒ³ã‚¹** ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

```
MIT License

Copyright (c) 2026 waras

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
```

è©³ç´°ã¯ [LICENSE](./LICENSE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ› ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆ

ä¸å…·åˆã‚’è¦‹ã¤ã‘ãŸå ´åˆã‚„æ©Ÿèƒ½ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã‚Œã°ã€[Issues](https://github.com/waras/RomajiSwitcher/issues) ã‹ã‚‰å ±å‘Šã—ã¦ãã ã•ã„ã€‚

---

## ğŸŒ ã‚µãƒãƒ¼ãƒˆ

è³ªå•ã‚„å•é¡ŒãŒã‚ã‚‹å ´åˆã¯:
- ğŸ“§ Issues ã§è³ªå•ã‚’æŠ•ç¨¿
- ğŸ’¬ Discussions ã§è­°è«–ã‚’é–‹å§‹
- ğŸ“– Wiki ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§

---

<hr style="border: 3px solid #333; margin: 40px 0;">

# RomajiSwitcher

**A Paper plugin that automatically converts romaji input to kanji/hiragana in real-time**

---

## ğŸ“‹ Overview

RomajiSwitcher is a Minecraft server plugin (Paper) that automatically converts romaji text entered in chat to Japanese kanji and hiragana. Type `arigatou` and it will appear as `æœ‰é›£ã†` in the chat.

### ğŸ¯ Key Features

- **Real-time automatic conversion**: Instantly transforms romaji to Japanese on chat input
- **Google IME API Integration**: Leverages Google's advanced kana-kanji conversion engine
- **Smart caching**: Subsequent requests for the same word skip API calls for speed
- **IPADIC Dictionary Support**: Uses IPADIC as the system dictionary
- **User Dictionary Registration**: Users can register custom conversion rules
- **Usage-based Learning**: Automatically adjusts priority based on frequently used conversions
- **Full-width character auto-skip**: Skips conversion if kanji/hiragana is already present
- **Colorful Display**: Shows results in server-configured colors
- **100% Backward Compatibility**: Zero impact on existing functionality

### ğŸ’¡ Usage Examples

```
Input: arigatou desu
Output: æœ‰é›£ã† ã§ã™

Input: oishii
Output: ç¾å‘³ã—ã„

Input: ä¿ºä»Šæ—¥ valoã™ã‚‹ã‹ã‚‰
Output: ä¿ºä»Šæ—¥ valoã™ã‚‹ã‹ã‚‰ (Skipped due to full-width characters)
```

---

## ğŸš€ Installation

1. **Download the latest version**
   - Get `RomajiSwitcher-2.00.jar` from the [Releases page](https://github.com/waras/RomajiSwitcher/releases)

2. **Place in plugins folder**
   ```bash
   cp RomajiSwitcher-2.00.jar /path/to/server/plugins/
   ```

3. **Restart your server**
   ```bash
   ./start.sh
   ```

4. **Verify installation**
   - Check server console for message: `RomajiSwitcher v2.00 enabled`

---

## âš™ï¸ Configuration

### Default Settings
- **Google IME API**: Automatically enabled
- **IPADIC Dictionary**: 16 core words preloaded
- **Caching**: Automatically built and managed

### Plugin Folder Structure

```
plugins/
â””â”€â”€ RomajiSwitcher/
    â”œâ”€â”€ user-dictionary.json      (User-defined conversion rules)
    â””â”€â”€ config.yml                (Reserved for future expansion)
```

---

## ğŸ“š User Dictionary

Users can register custom conversion rules via `user-dictionary.json`:

```json
{
  "entries": [
    {
      "romaji": "yuusha",
      "kanji": "å‹‡è€…",
      "hiragana": "ã‚†ã†ã—ã‚ƒ"
    }
  ]
}
```

---

## ğŸ› ï¸ Developer Information

### Technology Stack
- **Language**: Java 21
- **Base**: Paper 1.21.6
- **Build Tool**: Maven
- **Testing**: JUnit 5
- **External API**: Google CGI API for Japanese Input

### Build & Compile

```bash
git clone https://github.com/waras/RomajiSwitcher.git
cd RomajiSwitcher
mvn clean package
```

Output: `target/RomajiSwitcher-2.00.jar`

### Run Tests

```bash
mvn clean test
```

All **54 tests currently pass successfully**.

### Architecture

```
RomajiSwitcher
â”œâ”€â”€ ChatListener              (Chat event handler)
â”œâ”€â”€ RomajiConverter           (Conversion engine)
â”œâ”€â”€ RomajiDictionary          (Dictionary management)
â”‚   â”œâ”€â”€ IPADIC Dictionary     (16 words)
â”‚   â””â”€â”€ User Dictionary       (Custom entries)
â”œâ”€â”€ ConversionStats           (Usage stats & learning)
â””â”€â”€ GoogleIMEClient           (Google IME API client + caching)
```

---

## ğŸ“‹ Conversion Flow

1. User types `arigatou` in chat
2. `ChatListener` catches the event
3. `RomajiConverter` transforms `arigatou` â†’ `ã‚ã‚ŠãŒã¨ã†`
4. `GoogleIMEClient` converts `ã‚ã‚ŠãŒã¨ã†` â†’ `æœ‰é›£ã†` using API
5. Result is cached for future use
6. Chat message displays as `æœ‰é›£ã†`

---

## ğŸ¤ Acknowledgments

This plugin draws significant inspiration from **[LunaChat](https://github.com/ucchyocean/LunaChat)**. LunaChat served as a benchmark for comprehensive chat management solutions and influenced this implementation.

---

## ğŸ“„ License

This project is released under the **MIT License**.

```
MIT License

Copyright (c) 2026 waras

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
```

See [LICENSE](./LICENSE) file for full details.

---

## ğŸ› Bug Reports & Feature Requests

Found a bug or have a feature request? Please report via [Issues](https://github.com/waras/RomajiSwitcher/issues).

---

## ğŸŒ Support

For questions or issues:
- ğŸ“§ Post questions in Issues
- ğŸ’¬ Start discussions in Discussions
- ğŸ“– Check the Wiki for documentation

---

## ğŸ“Š Version History

- **v2.00** (Current) - Google IME API integration, IPADIC dictionary, user dictionary support, caching mechanism
- **v1.3.0** - Google IME-style conversion system with multiple candidates
- **v1.0** - Initial release

---

**Last Updated**: February 5, 2026  
